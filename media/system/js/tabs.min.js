Object.append(Browser.Features,{localstorage:function(){return"localStorage"in window&&null!==window.localStorage}()});var JTabs=new Class({Implements:[Options,Events],options:{display:0,useStorage:!0,onActive:function(a,b){b.setStyle("display","block"),a.addClass("open").removeClass("closed")},onBackground:function(a,b){b.setStyle("display","none"),a.addClass("closed").removeClass("open")},titleSelector:"dt",descriptionSelector:"dd"},initialize:function(a,b){this.setOptions(b),this.dlist=document.id(a),this.titles=this.dlist.getChildren(this.options.titleSelector),this.descriptions=this.dlist.getChildren(this.options.descriptionSelector),this.content=new Element("div").inject(this.dlist,"after").addClass("current"),this.storageName="jpanetabs_"+this.dlist.id,this.options.useStorage&&(Browser.Features.localstorage?this.options.display=this.options.display||localStorage[this.storageName]:this.options.display=this.options.display||Cookie.read(this.storageName)),null!==this.options.display&&void 0!==this.options.display||(this.options.display=0),this.options.display=this.options.display.toInt().limit(0,this.titles.length-1);for(var c=0,d=this.titles.length;c<d;c++){var e=this.titles[c],f=this.descriptions[c];e.setStyle("cursor","pointer"),e.addEvent("click",this.display.bind(this,c)),f.inject(this.content)}this.display(this.options.display),this.options.initialize&&this.options.initialize.call(this)},hideAllBut:function(a){for(var b=0,c=this.titles.length;b<c;b++)b!=a&&this.fireEvent("onBackground",[this.titles[b],this.descriptions[b]])},display:function(a){this.hideAllBut(a),this.fireEvent("onActive",[this.titles[a],this.descriptions[a]]),this.options.useStorage&&(Browser.Features.localstorage?localStorage[this.storageName]=a:Cookie.write(this.storageName,a))}});